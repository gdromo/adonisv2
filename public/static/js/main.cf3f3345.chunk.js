(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{335:function(e,t,a){e.exports=a(578)},340:function(e,t,a){},578:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(16),i=a.n(r),s=(a(340),a(27)),l=a(28),c=a(30),u=a(29),d=a(31),m=a(240),h=a(96),p=a(33),f=a.n(p),E=a(53),b=a(88),g=a(59),v=a(8),C=(a(80),"http://webapiturnos.vitus.com.ar/api/"),T=a(39),S=a(43),j=a.n(S),y=a(89),k=a.n(y),M=a(44),O=a.n(M),P=a(37),x=a.n(P),w=a(55),N=a.n(w),B=a(66),D=a.n(B),A=a(95),U=a.n(A),L=a(74),q=a.n(L),R=a(32),Y=a.n(R),z=a(83),F=[],W="",I=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){a.setState({selectedOption:e}),a.props.onSelectMutual(e)},a.TraerMutuales=function(){var e=[],t={headers:{Authorization:"Bearer ".concat(W)}};Y.a.get("".concat(C,"mutuales"),t).then(function(t){if(0!==t.data.length){var n;for(n=0;n<t.data.length;n++)e[n]={value:t.data[n].codigo,label:t.data[n].nombre};a.setState({mutuales:e})}}).catch(function(e){console.log("Error"),console.log(e.response)})},a.state={selectedOption:null,mutuales:[]},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){W=sessionStorage.getItem("AppOfertaTurnoToken"),this.TraerMutuales()}},{key:"componentWillReceiveProps",value:function(e){if(void 0!==e.MutualBusq&&null!==e.MutualBusq){if(void 0!==e.MutualBusq.nombre){var t;t={value:e.MutualBusq.codigo,label:e.MutualBusq.nombre},this.setState({selectedOption:t})}void 0===e.MutualBusq.nombre&&this.setState({selectedOption:e.MutualBusq})}}},{key:"render",value:function(){var e=this.state.selectedOption;return F=this.state.mutuales,o.a.createElement("div",null,o.a.createElement(z.a,{value:e,onChange:this.handleChange,options:F,placeholder:"Seleccione una Mutual"}))}}]),t}(o.a.Component),K=a(321),H=a.n(K),G=new RegExp(/^(([^<>()[\].,;:\s@"]+(\.[^<>()[\].,;:\s@"]+)*)|(".+"))@(([^<>()[\].,;:\s@"]+\.)+[^<>()[\].,;:\s@"]{2,})$/i),V="",_=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).valueToState=function(t){var a=t.id,n=t.value,o=t.checked,r=t.type;"pacienteDni"===a&&e.setState({pacienteNombre:"",pacienteApellido:"",pacienteDni:"",codPaciente:null,pacienteMutual:"",pacienteMutualNombre:"",pacienteEmail:"",pacienteMutualAfiliado:"",pacienteNacimiento:"2019-01-01",pacienteCelular:"",pacienteTelefono:""}),e.setState(function(){return Object(b.a)({},a,"checkbox"===r?o:n)})},e.TraerMutual=function(t){e.setState({pacienteMutual:t.value,pacienteMutualNombre:t.label,mutualBusq:null})},e.state={pacienteNombre:"",pacienteApellido:"",pacienteDni:"",pacienteCargando:!1,codPaciente:null,pacienteMutual:"",pacienteMutualNombre:"",pacienteEmail:"",pacienteMutualAfiliado:"",pacienteNacimiento:"2019-01-01",pacienteCelular:"",pacienteTelefono:"",validacionError:!1,ErrorEmail:!1,ErrorCelular:!1,ErrorMensaje:"",mutualBusq:null,UsuarioLogueado:null,loading:!1},e.handleSubmit=e.handleSubmit.bind(Object(g.a)(e)),e.handleBlur=e.handleBlur.bind(Object(g.a)(e)),e}return Object(d.a)(t,e),Object(l.a)(t,[{key:"handleSubmit",value:function(e){var t={};this.setState({loading:!0}),t.apellido=this.state.pacienteApellido,t.nombre=this.state.pacienteNombre,t.codigo=this.state.codPaciente,t.documentoNro=this.state.pacienteDni,t.documentoTipo=1,t.email=this.state.pacienteEmail,t.hc=this.state.pacienteDni,t.mutual=this.state.pacienteMutual,t.mutualAfiliado=this.state.pacienteMutualAfiliado,t.mutualNombre=this.state.pacienteMutualNombre,t.nacimiento=this.state.pacienteNacimiento,t.telefono=this.state.pacienteTelefono,t.telefono2=this.state.pacienteCelular,this.actualizarPaciente(t),e.preventDefault()}},{key:"handleKeyPress",value:function(e){"Enter"===e.key&&("pacienteApellido"!==e.target.id&&"pacienteNombre"!==e.target.id||""===this.state.pacienteDni&&this.buscarporNombre(),"pacienteDni"===e.target.id&&""===this.state.pacienteDni&&""===this.state.pacienteApellido&&""===this.state.pacienteNombre&&this.traerPacientes(this.state.pacienteDni))}},{key:"handleBlur",value:function(e){var t=e.id,a=e.value;switch(t){case"pacienteDni":""===this.state.pacienteApellido&&""===this.state.pacienteNombre&&this.traerPacientes(a);break;case"pacienteEmail":""!==a?this.validarEmail(a):this.setState({validacionError:!1,ErrorEmail:!1,ErrorMensaje:""});break;case"pacienteCelular":""!==a?this.validarCelular(a):this.setState({validacionError:!1,ErrorCelular:!1,ErrorMensaje:""});break;case"pacienteMutual":this.traerMutuales(a)}this.validar(t,a)}},{key:"validar",value:function(e,t){switch(e){case"pacienteDni":break;case"pacienteEmail":""!==t?this.validarEmail(t):this.setState({validacionError:!1,ErrorEmail:!1,ErrorMensaje:""});break;case"pacienteCelular":""!==t?this.validarCelular(t):this.setState({validacionError:!1,ErrorCelular:!1,ErrorMensaje:""})}}},{key:"traerPacientes",value:function(){var e=Object(E.a)(f.a.mark(function e(t){var a,n=this;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a={headers:{Authorization:"Bearer ".concat(V)}},""===t){e.next=6;break}return this.setState({pacienteCargando:!0}),e.next=5,Y.a.get("".concat(C,"pacientes/?documento=").concat(t),a).then(function(e){0!==e.data.length?(n.traerMutuales(null!==e.data[0].mutual?e.data[0].mutual:""),n.setState({pacienteCargando:!1}),n.setState({pacienteNombre:null!==e.data[0].nombre?e.data[0].nombre:"",pacienteApellido:null!==e.data[0].apellido?e.data[0].apellido:"",pacienteDni:null!==e.data[0].documentoNro?e.data[0].documentoNro:"",pacienteCelular:null!==e.data[0].telefono2?e.data[0].telefono2:"",pacienteMutual:null!==e.data[0].mutual?e.data[0].mutual:"",pacienteMutualNombre:null!==e.data[0].mutualNombre?e.data[0].mutualNombre:"",pacienteMutualAfiliado:null!==e.data[0].mutualAfiliado?e.data[0].mutualAfiliado:"",pacienteTelefono:null!==e.data[0].telefono?e.data[0].telefono:"",codPaciente:null!==e.data[0].codigo?e.data[0].codigo:"",pacienteEmail:null!==e.data[0].email?e.data[0].email:"",pacienteNacimiento:null!==e.data[0].nacimiento&&T(e.data[0].nacimiento).format("YYYY-MM-DD")>"1860-01-01"?T(e.data[0].nacimiento).format("YYYY-MM-DD"):"1980-01-01"})):alert("El DNI no se encuentra Registrado como perteneciente a un paciente")}).catch(function(e){console.log("Error"),console.log(e.response)});case 5:this.setState({pacienteCargando:!1});case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"traerMutuales",value:function(e){var t=this,a={headers:{Authorization:"Bearer ".concat(this.state.UsuarioLogueado.token)}};""!==e&&Y.a.get("".concat(C,"mutuales/").concat(e),a).then(function(e){0!==e.data.length?(t.setState({mutualBusq:e.data[0],pacienteMutualNombre:e.data[0].nombre}),t.render()):(alert("Mutual no vigente"),t.setState({mutualBusq:null,pacienteMutualNombre:"",pacienteMutual:""}))}).catch(function(e){console.log("Error"),console.log(e.response)})}},{key:"validarEmail",value:function(e){G.test(e)?this.setState({validacionError:!1,ErrorEmail:!1,ErrorMensaje:""}):this.setState({validacionError:!0,ErrorEmail:!0,ErrorMensaje:"Ingrese un Correo Correcto"})}},{key:"validarCelular",value:function(e){switch(!0){case e.length<=9:this.setState({validacionError:!0,ErrorCelular:!0,ErrorMensaje:"El Celular tiene menos de 10 numero, verifique la caracteristica"});break;case e.length>=14:this.setState({validacionError:!0,ErrorCelular:!0,ErrorMensaje:"El Celular tiene mas de 13 numero, verifique que sea correcto"});break;case"0"===e.substr(0,1):this.setState({validacionError:!0,ErrorCelular:!0,ErrorMensaje:"El primer numero del celular no puede ser 0"});break;default:this.setState({validacionError:!1,ErrorCelular:!1,ErrorMensaje:""})}}},{key:"actualizarPaciente",value:function(){var e=Object(E.a)(f.a.mark(function e(t){var a,n;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=0,n={headers:{Authorization:"Bearer ".concat(this.state.UsuarioLogueado.token)}},null!=t.codigo){e.next=7;break}return e.next=5,Y.a.post("".concat(C,"pacientes/"),{apellido:this.state.pacienteApellido,nombre:this.state.pacienteNombre,documentoNro:this.state.pacienteDni,documentoTipo:1,email:this.state.pacienteEmail,hc:this.state.pacienteDni,mutual:this.state.pacienteMutual,mutualAfiliado:this.state.pacienteMutualAfiliado,mutualNombre:this.state.pacienteMutualNombre,nacimiento:this.state.pacienteNacimiento,telefono:this.state.pacienteTelefono,telefono2:this.state.pacienteCelular},n).then(function(e){t.codigo=e.data,a=e.status,this.setState({loading:!1})}).catch(function(e){console.log("error"),console.log(e.response),this.setState({loading:!1})});case 5:e.next=9;break;case 7:return e.next=9,Y.a.put("".concat(C,"pacientes/").concat(this.state.codPaciente),{apellido:this.state.pacienteApellido,nombre:this.state.pacienteNombre,codigo:this.state.codPaciente,documentoNro:this.state.pacienteDni,documentoTipo:1,email:this.state.pacienteEmail,hc:this.state.pacienteDni,mutual:this.state.pacienteMutual,mutualAfiliado:this.state.pacienteMutualAfiliado,mutualNombre:this.state.pacienteMutualNombre,nacimiento:this.state.pacienteNacimiento,telefono:this.state.pacienteTelefono,telefono2:this.state.pacienteCelular},n).then(function(e){a=e.status}).catch(function(e){console.log("error"),console.log(e.response)});case 9:this.setState({loading:!1}),200===a?this.props.history.push({pathname:"/Turno",Paciente:t,Usuario:this.state.UsuarioLogueado}):alert("Error al Registrar Paciente vuelve a intentar en un segundo");case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"post",value:function(){Y.a.post("".concat(C,"cirugias/"),{nombre:"Cirugia Guille111"}).then(function(e){console.log("response"),console.log(e)}).catch(function(e){console.log("error"),console.log(e.response)})}},{key:"buscarporNombre",value:function(){var e="";e=""!==this.state.pacienteApellido?""!==this.state.pacienteNombre?"".concat(this.state.pacienteApellido," ").concat(this.state.pacienteNombre):"".concat(this.state.pacienteApellido):""!==this.state.pacienteNombre?"".concat(this.state.pacienteNombre):"",this.props.history.push({pathname:"/BuscarporNombre",Usuario:this.state.UsuarioLogueado,Busqueda:e})}},{key:"turnosPaciente",value:function(){if(null!==this.state.codPaciente){var e={};e.apellido=this.state.pacienteApellido,e.nombre=this.state.pacienteNombre,e.codigo=this.state.codPaciente,e.documentoNro=this.state.pacienteDni,e.documentoTipo=1,e.email=this.state.pacienteEmail,e.hc=this.state.pacienteDni,e.mutual=this.state.pacienteMutual,e.mutualAfiliado=this.state.pacienteMutualAfiliado,e.mutualNombre=this.state.pacienteMutualNombre,e.nacimiento=this.state.pacienteNacimiento,e.telefono=this.state.pacienteTelefono,e.telefono2=this.state.pacienteCelular,this.props.history.push({pathname:"/TurnoPaciente",Usuario:this.state.UsuarioLogueado,Paciente:e})}else alert("Debe ingresar en un paciente")}},{key:"componentDidMount",value:function(){V=sessionStorage.getItem("AppOfertaTurnoToken"),void 0!==this.props.location.Usuario&&this.setState({UsuarioLogueado:this.props.location.Usuario}),void 0!==this.props.location.PacienteDni&&this.traerPacientes(this.props.location.PacienteDni)}},{key:"render",value:function(){var e=this;return o.a.createElement(v.Grid,{fluid:!0},null==this.state.UsuarioLogueado?o.a.createElement("div",null,o.a.createElement("p",null,"Debe ingresar Usuario, ir a"),o.a.createElement("button",{onClick:function(){e.props.history.push({pathname:"/"})}},"login")):o.a.createElement(H.a,{active:this.state.pacienteCargando,spinner:!0,text:"Buscando paciente ..."},o.a.createElement(v.Row,null,o.a.createElement(v.Col,{xs:12,md:12},o.a.createElement(j.a,null,o.a.createElement(k.a,{title:"Oferta de Turnos",subheader:null===this.setState.UsuarioLogueado?"Subtitulo":"Usuario: "+this.state.UsuarioLogueado.nombre}),o.a.createElement(O.a,null,o.a.createElement("form",{onSubmit:this.handleSubmit},o.a.createElement(v.Row,null,o.a.createElement(v.Col,{xs:12,md:12},o.a.createElement(j.a,null,o.a.createElement(O.a,null,o.a.createElement(v.Row,null,o.a.createElement(v.Col,{xs:12,md:12},o.a.createElement(D.a,{variant:"h4",gutterBottom:!0},"Paciente"))),o.a.createElement(v.Row,null,o.a.createElement(v.Col,{xs:12,md:3},o.a.createElement(N.a,{id:"pacienteDni",label:"DNI",margin:"normal",autoComplete:"off",value:this.state.pacienteDni,autoFocus:!0,required:!0,onChange:function(t){return e.valueToState(t.target)},onBlur:function(t){return e.handleBlur(t.target)},onKeyPress:function(t){return e.handleKeyPress(t)}})),o.a.createElement(v.Col,{xs:12,md:3},o.a.createElement(N.a,{id:"pacienteApellido",label:"Apellido",value:this.state.pacienteApellido,fullWidth:!0,margin:"normal",autoComplete:"off",required:!0,onChange:function(t){return e.valueToState(t.target)},onBlur:function(t){return e.handleBlur(t.target)},onKeyPress:function(t){return e.handleKeyPress(t)}})),o.a.createElement(v.Col,{xs:12,md:3},o.a.createElement(N.a,{id:"pacienteNombre",label:"Nombre",value:this.state.pacienteNombre,fullWidth:!0,margin:"normal",autoComplete:"off",required:!0,onChange:function(t){return e.valueToState(t.target)},onBlur:function(t){return e.handleBlur(t.target)},onKeyPress:function(t){return e.handleKeyPress(t)}})),o.a.createElement(v.Col,{xs:12,md:3},o.a.createElement(v.Row,null,o.a.createElement(x.a,{variant:"contained",className:"PacienteBotonera",onClick:function(){e.buscarporNombre()}},"Buscar Por Nombre")),o.a.createElement(v.Row,null,o.a.createElement("p",null)),o.a.createElement(v.Row,null,o.a.createElement(x.a,{variant:"contained",color:"primary",className:"PacienteBotonera",onClick:function(){e.turnosPaciente()}},"Consultar/Anular Turnos")))),o.a.createElement(v.Row,null,o.a.createElement(v.Col,{xs:12,md:3},o.a.createElement(N.a,{id:"pacienteMutual",label:"Codigo Mutal",value:this.state.pacienteMutual,margin:"normal",autoComplete:"off",required:!0,onChange:function(t){return e.valueToState(t.target)},onBlur:function(t){return e.handleBlur(t.target)}})),o.a.createElement(v.Col,{xs:12,md:6,className:"PacienteMutual"},o.a.createElement(I,{MutualBusq:this.state.mutualBusq,onSelectMutual:this.TraerMutual})),o.a.createElement(v.Col,{xs:12,md:3})),o.a.createElement(v.Row,null,o.a.createElement(v.Col,{xs:12,md:3},o.a.createElement(N.a,{id:"pacienteMutualAfiliado",label:"Numero Afiliado",value:this.state.pacienteMutualAfiliado,fullWidth:!0,margin:"normal",autoComplete:"off",onChange:function(t){return e.valueToState(t.target)},onBlur:function(t){return e.handleBlur(t.target)}})),o.a.createElement(v.Col,{xs:12,md:3},o.a.createElement(N.a,{id:"pacienteNacimiento",label:"Fecha Nacimiento",value:this.state.pacienteNacimiento,type:"date",margin:"normal",onChange:function(t){return e.valueToState(t.target)},onBlur:function(t){return e.handleBlur(t.target)},InputLabelProps:{shrink:!0}})),o.a.createElement(v.Col,{xs:12,md:3}),o.a.createElement(v.Col,{xs:12,md:3})),o.a.createElement(v.Row,null,o.a.createElement(v.Col,{xs:12,md:6},o.a.createElement(N.a,{id:"pacienteEmail",label:"Email",value:this.state.pacienteEmail,type:"email",name:"email",autoComplete:"off",margin:"normal",fullWidth:!0,onChange:function(t){return e.valueToState(t.target)},onBlur:function(t){return e.handleBlur(t.target)},InputLabelProps:{error:this.state.ErrorEmail}})),o.a.createElement(v.Col,{xs:12,md:3},o.a.createElement(N.a,{id:"pacienteCelular",label:"Celular",value:this.state.pacienteCelular,fullWidth:!0,margin:"normal",autoComplete:"off",InputLabelProps:{error:this.state.ErrorCelular},required:!0,onChange:function(t){return e.valueToState(t.target)},onBlur:function(t){return e.handleBlur(t.target)}})),o.a.createElement(v.Col,{xs:12,md:3},o.a.createElement(N.a,{id:"pacienteTelefono",label:"Telefono",value:this.state.pacienteTelefono,fullWidth:!0,margin:"normal",autoComplete:"off",onChange:function(t){return e.valueToState(t.target)},onBlur:function(t){return e.handleBlur(t.target)}}))),o.a.createElement(v.Col,{xs:12,md:12},this.state.validacionError?o.a.createElement("div",{className:"ErrorPaciente"},this.state.ErrorMensaje):o.a.createElement("p",null)),o.a.createElement(v.Row,null))))),o.a.createElement(v.Row,null,o.a.createElement("p",null)),o.a.createElement(v.Row,null,o.a.createElement(v.Col,{xs:12,md:6,end:"xs"},o.a.createElement(x.a,{variant:"contained",size:"large",color:"secondary",onClick:function(){e.props.history.push({pathname:"/"})}},"LOGOUT",o.a.createElement(U.a,null,"exit_to_app"))),o.a.createElement(v.Col,{xs:12,md:6,end:"xs"},o.a.createElement(v.Row,{end:"xs"},o.a.createElement("div",{className:"wrapper"},o.a.createElement(x.a,{variant:"contained",size:"large",color:"primary",type:"submit",disabled:this.state.validacionError||this.state.loading},"Dar Turno / Guardar",o.a.createElement(U.a,null,"send")),this.state.loading&&o.a.createElement(q.a,{size:24,className:"buttonProgress"}))))))))))))}}]),t}(n.Component),J=[],Q="",$=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){a.setState({selectedOption:e}),a.props.onSelectEstudio(e)},a.TraerEstudios=function(){var e=[],t={headers:{Authorization:"Bearer ".concat(Q)}};Y.a.get("".concat(C,"estudios"),t).then(function(t){if(0!==t.data.length){var n;for(n=0;n<t.data.length;n++)e[n]={value:t.data[n].codigo,label:t.data[n].nombre};a.setState({estudios:e})}}).catch(function(e){console.log("Error"),console.log(e.response)})},a.state={selectedOption:null,estudios:[]},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){Q=sessionStorage.getItem("AppOfertaTurnoToken"),this.TraerEstudios()}},{key:"componentWillReceiveProps",value:function(e){if(void 0!==e.MutualBusq&&null!==e.MutualBusq){if(void 0!==e.MutualBusq.nombre){var t;t={value:e.MutualBusq.codigo,label:e.MutualBusq.nombre},this.setState({selectedOption:t})}void 0===e.MutualBusq.nombre&&this.setState({selectedOption:e.MutualBusq})}}},{key:"handleKeyPress",value:function(e){e.key}},{key:"render",value:function(){var e=this,t=this.state.selectedOption;return J=this.state.estudios,o.a.createElement("div",null,o.a.createElement(z.a,{value:t,onChange:this.handleChange,onKeyDown:function(t){return e.handleKeyPress(t)},options:J,placeholder:"Seleccione un Estudio"}))}}]),t}(o.a.Component),X=[],Z="",ee=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){a.setState({selectedOption:e}),a.props.onSelectPrestador(e.value)},a.TraerPrestadores=function(){var e=[],t={headers:{Authorization:"Bearer ".concat(Z)}};Y.a.get("".concat(C,"prestadores"),t).then(function(t){if(0!==t.data.length){var n;for(n=0;n<t.data.length;n++)e[n]={value:t.data[n].codigo,label:t.data[n].nombre};a.setState({prestadores:e})}}).catch(function(e){console.log("Error"),console.log(e.response)})},a.state={selectedOption:null,prestadores:[]},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){Z=sessionStorage.getItem("AppOfertaTurnoToken"),this.TraerPrestadores()}},{key:"componentWillReceiveProps",value:function(e){if(void 0!==e.MutualBusq&&null!==e.MutualBusq){if(void 0!==e.MutualBusq.nombre){var t;t={value:e.MutualBusq.codigo,label:e.MutualBusq.nombre},this.setState({selectedOption:t})}void 0===e.MutualBusq.nombre&&this.setState({selectedOption:e.MutualBusq})}}},{key:"render",value:function(){var e=this.state.selectedOption;return X=this.state.prestadores,o.a.createElement("div",null,o.a.createElement(z.a,{value:e,onChange:this.handleChange,options:X,placeholder:"Seleccione un Prestador"}))}}]),t}(o.a.Component),te="",ae=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleChangeEspecialidades=function(e){a.setState({selectedEspecialidades:e});var t=a.state.prestadores.filter(function(t){return t.especialidad===e.value});a.setState({prestadoresFiltro:t,selectedPrestador:""})},a.handleChangePrestador=function(e){a.setState({selectedPrestador:e}),a.props.onSelectEspecialidad(e.value)},a.TraerEspecialidades=function(){var e=[],t={headers:{Authorization:"Bearer ".concat(te)}};Y.a.get("".concat(C,"especialidades"),t).then(function(t){if(0!==t.data.length){var n;for(n=0;n<t.data.length;n++)e[n]={value:t.data[n].codigo,label:t.data[n].nombre};a.setState({especialidades:e})}}).catch(function(e){console.log("Error"),console.log(e.response)})},a.TraerPrestadores=function(){var e=[],t={headers:{Authorization:"Bearer ".concat(te)}};Y.a.get("".concat(C,"prestadores"),t).then(function(t){if(0!==t.data.length){var n;for(n=0;n<t.data.length;n++)e[n]={value:t.data[n].codigo,label:t.data[n].nombre,especialidad:t.data[n].especialidad};a.setState({prestadores:e})}}).catch(function(e){console.log("Error"),console.log(e.response)})},a.state={selectedPrestador:null,selectedEspecialidades:null,especialidades:[],prestadores:[],prestadoresFiltro:[]},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){te=sessionStorage.getItem("AppOfertaTurnoToken"),this.TraerEspecialidades(),this.TraerPrestadores()}},{key:"componentWillReceiveProps",value:function(e){if(void 0!==e.MutualBusq&&null!==e.MutualBusq){if(void 0!==e.MutualBusq.nombre){var t;t={value:e.MutualBusq.codigo,label:e.MutualBusq.nombre},this.setState({selectedEspecialidades:t})}void 0===e.MutualBusq.nombre&&this.setState({selectedEspecialidades:e.MutualBusq})}}},{key:"render",value:function(){var e=this.state,t=e.selectedEspecialidades,a=e.selectedPrestador;return o.a.createElement(v.Grid,{fluid:!0},o.a.createElement(v.Row,null,o.a.createElement(v.Col,{xs:12},o.a.createElement(z.a,{value:t,onChange:this.handleChangeEspecialidades,options:this.state.especialidades,placeholder:"Seleccione una Especialidad"}))),o.a.createElement(v.Row,null,o.a.createElement("p",null)),o.a.createElement(v.Row,null,o.a.createElement(v.Col,{xs:12},o.a.createElement(z.a,{value:a,onChange:this.handleChangePrestador,options:this.state.prestadoresFiltro,placeholder:"Seleccione un Prestador"}))))}}]),t}(o.a.Component),ne=a(90),oe=a.n(ne),re=a(94),ie=Object(re.withStyles)(function(e){return{root:{color:e.palette.getContrastText(oe.a[500]),backgroundColor:oe.a[500],margin:"5px",width:"100%","&:hover":{backgroundColor:oe.a[700]}}}})(x.a),se=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).seleccionarTurno=function(t){e.props.onSelectTurno(t)},e.state={Abuscar:null,turnos:[]},e}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.setState({turnos:this.props.Abuscar})}},{key:"componentWillReceiveProps",value:function(e){void 0!==e.Abuscar&&null!==e.Abuscar&&void 0!==e.Abuscar.fecha&&null!==e.Abuscar.fecha&&this.setState({turnos:e.Abuscar})}},{key:"render",value:function(){var e=this,t=this.state.turnos.map(function(t,a){return o.a.createElement(v.Col,{xs:6,md:3,key:a},o.a.createElement(ie,{variant:"contained",onClick:function(){e.seleccionarTurno(t)}},T(t.hora).format("HH:mm")))});return o.a.createElement(v.Grid,{fluid:!0},o.a.createElement(j.a,null,o.a.createElement(O.a,null,o.a.createElement(v.Row,null,t))))}}]),t}(n.Component),le=Object(re.withStyles)(function(e){return{root:{color:e.palette.getContrastText(oe.a[500]),backgroundColor:oe.a[500],margin:"5px",width:"100%","&:hover":{backgroundColor:oe.a[700]}}}})(x.a),ce=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).seleccionarTurno=function(t){e.props.onSelectFecha(T(t.fecha).format("YYYY-MM-DD"))},e.state={fechas:null,turnos:[]},e}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.setState({fechas:this.props.Abuscar})}},{key:"componentWillReceiveProps",value:function(e){void 0!==e.Abuscar&&null!==e.Abuscar&&this.setState({fechas:e.Abuscar})}},{key:"render",value:function(){var e=this,t=this.state.fechas,a=null!==t?t.map(function(t,a){return o.a.createElement(v.Col,{xs:6,md:3,key:a},o.a.createElement(le,{variant:"contained",onClick:function(){e.seleccionarTurno(t)}},T(t.fecha).format("DD/MM/YYYY")))}):o.a.createElement("p",null);return o.a.createElement(v.Grid,{fluid:!0},o.a.createElement(j.a,null,o.a.createElement(O.a,null,o.a.createElement(v.Row,null,a))))}}]),t}(n.Component),ue=a(99),de=a.n(ue),me=a(152),he=a.n(me),pe=a(150),fe=a.n(pe),Ee=a(151),be=a.n(Ee),ge=a(100),ve=a.n(ge),Ce=a(178),Te=a.n(Ce),Se=a(323),je=a.n(Se),ye=a(177),ke=a.n(ye),Me=a(228),Oe=a.n(Me),Pe=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).CerrarmsjConfirmar=function(){e.setState({msjConfirmar:!1,TurnoConfimado:"No"})},e.ConfirmarmsjConfirmar=function(){e.setState({msjConfirmar:!1,TurnoConfimado:"Si",turnoAbuscar:null,fechaEstudio:null}),e.actualizarTurno()},e.CerrarmsjTurnoConfirmado=function(){e.setState({msjTurnoConfirmado:!1})},e.CerrarmsjError=function(){var t=e.state.mensajeError;t.open=!1,t.msj="",e.setState({mensajeError:t})},e.TraerTurno=function(t){e.setState({codTurno:t,msjConfirmar:!0})},e.TraerFecha=function(t){var a=e.state.turnosDisponibles.filter(function(e){return T(e.fecha).format("YYYY-MM-DD")===T(t).format("YYYY-MM-DD")});e.setState({fechaEstudio:T(t).format("YYYY-MM-DD"),fechaSeleccionada:!0,turnoAbuscarHora:a})},e.valueToState=function(t){var a=t.id,n=t.value,o=t.checked,r=t.type,i=t.name;e.setState({turnoAbuscar:null}),""===a&&(a=i),e.setState(function(){return Object(b.a)({},a,"checkbox"===r?o:n)})},e.state={codEstudio:null,estudioNombre:"",codPrestador:null,codEspecialidad:null,fechaEstudio:null,optionEstudio:"estudio",turnoAbuscar:null,turnoAbuscarHora:null,codTurno:{},msjConfirmar:!1,TurnoConfimado:null,fechaSeleccionada:!1,pacienteLocal:null,UsuarioLogueado:null,fechasTurnos:[],turnosDisponibles:[],loading:!1,msjTurnoConfirmado:!1,msjTurnoConfirmadoMsj:"",mensajeError:{open:!1,msj:""}},e.TraerEstudio=e.TraerEstudio.bind(Object(g.a)(e)),e.TraerPrestador=e.TraerPrestador.bind(Object(g.a)(e)),e.TraerEspecilidad=e.TraerEspecilidad.bind(Object(g.a)(e)),e.validar=e.validar.bind(Object(g.a)(e)),e}return Object(d.a)(t,e),Object(l.a)(t,[{key:"TraerEstudio",value:function(){var e=Object(E.a)(f.a.mark(function e(t){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({codEstudio:t.value,estudioNombre:t.label,turnoAbuscar:null});case 2:this.validar();case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"TraerPrestador",value:function(){var e=Object(E.a)(f.a.mark(function e(t){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({codPrestador:t,turnoAbuscar:null});case 2:this.validar();case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"TraerEspecilidad",value:function(){var e=Object(E.a)(f.a.mark(function e(t){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({codEspecialidad:t,turnoAbuscar:null});case 2:this.validar();case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.setState({pacienteLocal:this.props.PacienteLocal,UsuarioLogueado:this.props.UsuarioLogueado})}},{key:"validar",value:function(){var e=Object(E.a)(f.a.mark(function e(){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.setState({fechaEstudio:null,loading:!0}),"estudio"!==this.state.optionEstudio||null===this.state.codEstudio){e.next=5;break}return e.next=4,this.traerTurnosEstudios();case 4:null!==this.state.turnosDisponibles&&this.setState({fechaSeleccionada:!1,turnoAbuscar:!0});case 5:if("prestador"!==this.state.optionEstudio||null===this.state.codPrestador){e.next=9;break}return e.next=8,this.traerTurnosPrestador();case 8:null!==this.state.turnosDisponibles&&this.setState({fechaSeleccionada:!1,turnoAbuscar:!0});case 9:if("especialidad"!==this.state.optionEstudio||null===this.state.codEspecialidad){e.next=13;break}return e.next=12,this.traerTurnosEspecialidad();case 12:null!==this.state.turnosDisponibles&&this.setState({fechaSeleccionada:!1,turnoAbuscar:!0});case 13:this.setState({loading:!1});case 14:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"tipoTurno",value:function(){var e;switch(this.state.optionEstudio){case"estudio":e=1;break;case"prestador":e=2;break;case"especialidad":e=3;break;default:e=0}return e}},{key:"traerTurnosEstudios",value:function(){var e=Object(E.a)(f.a.mark(function e(){var t,a,n;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=null,a={headers:{Authorization:"Bearer ".concat(this.state.UsuarioLogueado.token)}},e.next=4,Y.a.get("".concat(C,"Turnos/TurnosEquipo/?mutual=").concat(this.state.pacienteLocal.mutual,"&estudio=").concat(this.state.codEstudio),a).then(function(e){t=0!==e.data.length?e.data:null}).catch(function(e){console.log("Error"),console.log(e.response)});case 4:null===t?((n=this.state.mensajeError).open=!0,n.msj="No hay turnos libres",this.setState({turnosDisponibles:t,mensajeError:n})):this.setState({fechasTurnos:this.AgruparArrayFecha(t),turnosDisponibles:t});case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"traerTurnosPrestador",value:function(){var e=Object(E.a)(f.a.mark(function e(){var t,a;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=null,a={headers:{Authorization:"Bearer ".concat(this.state.UsuarioLogueado.token)}},e.next=4,Y.a.get("".concat(C,"Turnos/TurnosPrestador/?mutual=").concat(this.state.pacienteLocal.mutual,"&prestador=").concat(this.state.codPrestador),a).then(function(e){t=0!==e.data.length?e.data:null}).catch(function(e){console.log("Error"),console.log(e.response)});case 4:null===t?(alert("No hay turnos libres"),this.setState({turnosDisponibles:t})):this.setState({fechasTurnos:this.AgruparArrayFecha(t),turnosDisponibles:t});case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"traerTurnosEspecialidad",value:function(){var e=Object(E.a)(f.a.mark(function e(){var t,a,n;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=null,a={headers:{Authorization:"Bearer ".concat(this.state.UsuarioLogueado.token)}},e.next=4,Y.a.get("".concat(C,"Turnos/TurnosPrestador/?mutual=").concat(this.state.pacienteLocal.mutual,"&prestador=").concat(this.state.codEspecialidad),a).then(function(e){t=0!==e.data.length?e.data:null}).catch(function(e){console.log("Error"),console.log(e.response)});case 4:null===t?((n=this.state.mensajeError).open=!0,n.msj="No hay turnos libres",this.setState({turnosDisponibles:t,mensajeError:n})):this.setState({fechasTurnos:this.AgruparArrayFecha(t),turnosDisponibles:t});case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"AgruparArrayFecha",value:function(e){var t=[];return e.forEach(function(e){0===t.length||void 0===t.length?t.push({fecha:e.fecha}):-1===t.findIndex(function(t){return t.fecha===e.fecha})&&t.push({fecha:e.fecha})}),t}},{key:"actualizarTurno",value:function(){var e=Object(E.a)(f.a.mark(function e(){var t,a,n,o,r;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=0,a=null,o="",r={headers:{Authorization:"Bearer ".concat(this.state.UsuarioLogueado.token)}},"estudio"===this.state.optionEstudio?(a=this.state.codEstudio,n="".concat(C,"Turnos/DarTurno/").concat(this.state.codTurno.codigo)):(a=null,n="".concat(C,"Turnos/DarTurno/").concat(this.state.codTurno.codigo)),e.next=7,Y.a.put(n,{codigo:this.state.codTurno.codigo,paciente:this.state.pacienteLocal.codigo,estudio:a,mutual:this.state.pacienteLocal.mutual,dioturno:this.state.UsuarioLogueado.codigo},r).then(function(e){t=e.status,o=e.data}).catch(function(e){console.log("error"),console.log(e.response)});case 7:200===t?"OK"===o?this.setState({msjTurnoConfirmadoMsj:"El turno se Registro Correctamente",msjTurnoConfirmado:!0}):this.setState({msjTurnoConfirmadoMsj:o,msjTurnoConfirmado:!0}):this.setState({msjTurnoConfirmadoMsj:"Error al Registrar Turno vuelve a intentar en un segundo",msjTurnoConfirmado:!0});case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return o.a.createElement(v.Grid,{fluid:!0},o.a.createElement(v.Row,null,o.a.createElement(v.Col,{xs:12,md:12},o.a.createElement(j.a,null,o.a.createElement(O.a,{className:"TurnoDetalleCard"},o.a.createElement("form",null,o.a.createElement(v.Row,null,o.a.createElement(v.Col,{xs:12,md:5},"estudio"===this.state.optionEstudio?o.a.createElement("div",{className:"TurnoDetalleSelect"},o.a.createElement($,{onSelectEstudio:this.TraerEstudio})):"prestador"===this.state.optionEstudio?o.a.createElement("div",{className:"TurnoDetalleSelect"},o.a.createElement(ee,{onSelectPrestador:this.TraerPrestador})):o.a.createElement("div",{className:"TurnoDetalleSelectEspecialidad"},o.a.createElement(ae,{onSelectEspecialidad:this.TraerEspecilidad}))),o.a.createElement(v.Col,{xs:12,md:2},o.a.createElement(Oe.a,{className:"TurnoDetalleOption"},o.a.createElement(je.a,{name:"optionEstudio",value:this.state.optionEstudio,onChange:function(t){return e.valueToState(t.target)}},o.a.createElement(ke.a,{className:"TurnoDetalleOptionLabel",value:"estudio",control:o.a.createElement(Te.a,{color:"primary"}),label:"Estudio"}),o.a.createElement(ke.a,{className:"TurnoDetalleOptionLabel",value:"prestador",control:o.a.createElement(Te.a,{color:"primary"}),label:"Prestador"}),o.a.createElement(ke.a,{className:"TurnoDetalleOptionLabel",value:"especialidad",control:o.a.createElement(Te.a,{color:"primary"}),label:"Especialidad"})))),o.a.createElement(v.Col,{xs:12,md:3},o.a.createElement("div",{className:"TurnoDetalleFecha"},"Fecha",null!==this.state.fechaEstudio?o.a.createElement(D.a,{variant:"h5",gutterBottom:!0},T(this.state.fechaEstudio).format("DD/MM/YYYY")):o.a.createElement("p",null))),o.a.createElement(v.Col,{xs:12,md:2},o.a.createElement("div",{className:"wrapper"},o.a.createElement(x.a,{variant:"contained",color:"primary",onClick:function(){e.validar()},disabled:this.state.loading},"Buscar"),this.state.loading&&o.a.createElement(q.a,{size:24,className:"buttonProgress"}))))),o.a.createElement(v.Row,null,o.a.createElement(v.Col,{xs:12,md:12},null!==this.state.turnoAbuscar?this.state.fechaSeleccionada?o.a.createElement("div",null,o.a.createElement(se,{Abuscar:this.state.turnoAbuscarHora,onSelectTurno:this.TraerTurno})):o.a.createElement("div",null,o.a.createElement(ce,{Abuscar:this.state.fechasTurnos,onSelectFecha:this.TraerFecha})):o.a.createElement("p",null))))))),o.a.createElement(de.a,{open:this.state.msjConfirmar,onClose:this.CerrarmsjConfirmar,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},o.a.createElement(ve.a,{id:"alert-dialog-title"},"Desea Confirmar el Turno?"),o.a.createElement(fe.a,null,o.a.createElement(be.a,{id:"alert-dialog-description"},"estudio"===this.state.optionEstudio?"Para el dia  ".concat(T(this.state.fechaEstudio).format("DD/MM/YYYY")," y la hora ").concat(T(this.state.codTurno.hora).format("HH:mm")," ")+", para el estudio: ".concat(this.state.estudioNombre," en el equipo : ").concat(this.state.codTurno.equipoNom,"."):"Para el dia ".concat(T(this.state.fechaEstudio).format("DD/MM/YYYY")," y la hora ").concat(T(this.state.codTurno.hora).format("HH:mm"),", ")+"para el prestador :  ".concat(this.state.codTurno.prestadorNom,"."))),o.a.createElement(he.a,null,o.a.createElement(x.a,{onClick:this.CerrarmsjConfirmar,color:"primary"},"No"),o.a.createElement(x.a,{onClick:this.ConfirmarmsjConfirmar,color:"primary",autoFocus:!0},"Si"))),o.a.createElement(de.a,{open:this.state.msjTurnoConfirmado,onClose:this.CerrarmsjTurnoConfirmado,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},o.a.createElement(ve.a,{id:"alert-dialog-title"},o.a.createElement(v.Row,null,o.a.createElement(v.Col,{xs:12,md:12},this.state.msjTurnoConfirmadoMsj,o.a.createElement("p",null))),o.a.createElement(v.Row,{end:"xs"},o.a.createElement(v.Col,{xs:12,md:12},o.a.createElement(x.a,{onClick:this.CerrarmsjTurnoConfirmado,color:"primary"},"OK"))))),o.a.createElement(de.a,{open:this.state.mensajeError.open,onClose:this.CerrarmsjError,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},o.a.createElement(ve.a,{id:"alert-dialog-title"},o.a.createElement(v.Row,null,o.a.createElement(v.Col,{xs:12,md:12},this.state.mensajeError.msj,o.a.createElement("p",null))),o.a.createElement(v.Row,{end:"xs"},o.a.createElement(v.Col,{xs:12,md:12},o.a.createElement(x.a,{onClick:this.CerrarmsjError,color:"primary"},"OK"))))))}}]),t}(n.Component),xe=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).state={pacienteLocal:null,UsuarioLogueado:null},e}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){void 0===this.props.location.Paciente||null===this.props.location.Paciente.codigo||void 0===this.props.location.Paciente.codigo?null===this.props.location.Usuario||void 0===this.props.location.Usuario||this.setState({UsuarioLogueado:this.props.location.Usuario}):this.setState({pacienteLocal:this.props.location.Paciente,UsuarioLogueado:this.props.location.Usuario})}},{key:"render",value:function(){var e=this;return o.a.createElement(v.Grid,{fluid:!0},null==this.state.UsuarioLogueado?o.a.createElement("div",null,o.a.createElement("p",null,"Debe ingresar Usuario, ir a"),o.a.createElement("button",{onClick:function(){e.props.history.push({pathname:"/"})}},"login")):null==this.state.pacienteLocal?o.a.createElement("div",null,o.a.createElement("p",null,"No se registro el Paciente"),o.a.createElement("button",{onClick:function(){e.props.history.push({pathname:"/paciente",Usuario:e.state.UsuarioLogueado})}},"Volver")):o.a.createElement(v.Row,null,o.a.createElement(v.Col,{xs:12,md:12},o.a.createElement(j.a,null,o.a.createElement(k.a,{title:"Paciente HC: "+this.state.pacienteLocal.documentoNro+" - "+this.state.pacienteLocal.apellido+", "+this.state.pacienteLocal.nombre,subheader:"Mutual: "+this.state.pacienteLocal.mutual+" - "+this.state.pacienteLocal.mutualNombre}),o.a.createElement(O.a,null,o.a.createElement(v.Row,null,o.a.createElement(v.Col,{xs:10,md:10},o.a.createElement(D.a,{variant:"h4",gutterBottom:!0},"Turnos")),o.a.createElement(v.Col,{xs:2,md:2,end:"xs"},o.a.createElement(U.a,{color:"error",style:{fontSize:30}},"add_circle"))),o.a.createElement(v.Row,null,o.a.createElement(v.Col,{xs:12,md:12},o.a.createElement(Pe,{PacienteLocal:this.state.pacienteLocal,UsuarioLogueado:this.state.UsuarioLogueado})))))),o.a.createElement(v.Col,{xs:12,md:3},o.a.createElement(x.a,{variant:"contained",color:"primary",onClick:function(){e.props.history.push({pathname:"/paciente",Usuario:e.state.UsuarioLogueado})}},"Volver"))))}}]),t}(n.Component),we=Object(h.e)(xe),Ne=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"page"},o.a.createElement("p",null,"P\xe1gina no encontrada"))}}]),t}(n.Component),Be=a(326),De=a.n(Be),Ae=a(325),Ue=a.n(Ae),Le=Object(re.withStyles)(function(e){return{root:{color:"white",background:"linear-gradient(45deg, #21d4fd 10%, #b721ff 80%)",boxShadow:"0 3px 5px 2px rgba(255, 105, 135, .3)",margin:"5px",width:"250px",height:"50px","&:hover":{backgroundColor:Ue.a[700]}}}})(De.a),qe=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).valueToState=function(t){var a=t.id,n=t.value,o={};e.setState({errorUsuario:!1,errorPassword:!1}),o.usuario=e.state.Usuario.usuario,o.password=e.state.Usuario.password,o.token=e.state.Usuario.token,o[a]=n,e.setState({Usuario:o})},e.Login=function(){""!==e.state.Usuario.usuario&&""!==e.state.Usuario.password?e.loginUsuario():(""===e.state.Usuario.usuario&&e.setState({errorUsuario:!0}),""===e.state.Usuario.password&&e.setState({errorPassword:!0,errorPasswordMsj:"Debe ingresar Password"}))},e.state={Usuario:{usuario:"",password:"",token:"",nombre:""},errorUsuario:!1,errorPassword:!1,errorPasswordMsj:"",cargandoLogin:!1},e.handleSubmit=e.handleSubmit.bind(Object(g.a)(e)),e}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){sessionStorage.removeItem("AppOfertaTurnoToken")}},{key:"componentWillReceiveProps",value:function(e){}},{key:"handleSubmit",value:function(e){this.setState({cargandoLogin:!0}),this.Login(),e.preventDefault()}},{key:"loginUsuario",value:function(){var e=Object(E.a)(f.a.mark(function e(){var t,a,n,o,r=this;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={},a=0,n="",e.next=5,Y.a.post("".concat(C,"usuarios/login/"),{nombreUsuario:this.state.Usuario.usuario,password:this.state.Usuario.password}).then(function(e){a=e.status,n=e.data.token,sessionStorage.setItem("AppOfertaTurnoToken",n)}).catch(function(e){console.log("error"),console.log(e.response)});case 5:return o={headers:{Authorization:"Bearer ".concat(n)}},e.next=8,Y.a.get("".concat(C,"usuarios?usuario=").concat(this.state.Usuario.usuario),o).then(function(e){t.usuario=r.state.Usuario.usuario,t.password=r.state.Usuario.password,t.token=n,t.nombre=e.data[0].nombreCompleto,t.codigo=e.data[0].codigo}).catch(function(e){console.log("Error"),console.log(e.response)});case 8:200===a?this.props.history.push({pathname:"/paciente",Usuario:t}):this.setState({errorPassword:!0,errorPasswordMsj:"Usuario o Password incorrecto",cargandoLogin:!1});case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return o.a.createElement(v.Grid,{fluid:!0},o.a.createElement("form",{onSubmit:this.handleSubmit},o.a.createElement("div",{className:"LoginFondo"},o.a.createElement(v.Row,{center:"xs"},o.a.createElement(v.Col,{xs:12,sm:5,md:4},o.a.createElement(j.a,null,o.a.createElement(O.a,{className:"LoginCard"},o.a.createElement(v.Row,{center:"xs",className:"LoginCabecera"},o.a.createElement(D.a,{variant:"h4",gutterBottom:!0},"Login")),o.a.createElement(v.Row,{center:"xs",className:"LoginIcono"},o.a.createElement(U.a,{style:{fontSize:80}},"account_circle")),o.a.createElement(v.Row,{center:"xs",className:"LoginUsuario"},o.a.createElement(v.Col,{xs:12,sm:10},o.a.createElement(N.a,{id:"usuario",label:"Usuario",value:this.state.Usuario.usuario,onChange:function(t){return e.valueToState(t.target)},margin:"normal",fullWidth:!0,required:!0,autoFocus:!0,autoComplete:"off"}),this.state.errorUsuario?o.a.createElement("p",null,"Debe ingresar Usuario"):o.a.createElement("p",null))),o.a.createElement(v.Row,{center:"xs",className:"LoginPassword"},o.a.createElement(v.Col,{xs:12,sm:10},o.a.createElement(N.a,{id:"password",label:"Password",type:"password",autoComplete:"current-password",value:this.state.Usuario.password,onChange:function(t){return e.valueToState(t.target)},margin:"normal",fullWidth:!0,required:!0}),this.state.errorPassword?o.a.createElement("p",null,this.state.errorPasswordMsj):o.a.createElement("p",null))),o.a.createElement(v.Row,{center:"xs"},o.a.createElement("div",{className:"LoginBoton"},this.state.cargandoLogin?o.a.createElement(q.a,null):o.a.createElement(Le,{variant:"extended",type:"submit"},"Login"))))))))))}}]),t}(n.Component),Re=a(153),Ye=a.n(Re),ze="",Fe=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).valueToState=function(t){var a=t.id,n=t.value,o=t.checked,r=t.type;e.setState(function(){return Object(b.a)({},a,"checkbox"===r?o:n)})},e.state={pacientesBusqueda:[],UsuarioLogueado:null,nombreBuscar:"",loading:!1,pacientesCargados:!1},e.handleSubmit=e.handleSubmit.bind(Object(g.a)(e)),e}return Object(d.a)(t,e),Object(l.a)(t,[{key:"validar",value:function(){this.setState({loading:!0}),this.traerPacientes(this.state.nombreBuscar)}},{key:"BuscarPacientes",value:function(e){this.setState({loading:!0}),this.traerPacientes(e)}},{key:"handleSubmit",value:function(e){this.traerPacientes(this.state.nombreBuscar),e.preventDefault()}},{key:"traerPacientes",value:function(e){var t=this,a={headers:{Authorization:"Bearer ".concat(ze)}},n=[];e.length>=4?Y.a.get("".concat(C,"pacientes/?nombre=").concat(e),a).then(function(e){if(0!==e.data.length){var a;for(a=0;a<e.data.length;a++)n[a]={codigo:null!==e.data[a].codigo?e.data[a].codigo:"",hc:null!==e.data[a].hc?e.data[a].hc:"",nombre:null!==e.data[a].nombre?e.data[a].nombre:"",apellido:null!==e.data[a].apellido?e.data[a].apellido:"",mutual:null!==e.data[a].mutualNombre?e.data[a].mutualNombre:"",nacimiento:null!==e.data[a].nacimiento?T(e.data[a].nacimiento).format("YYYY-MM-DD"):"1990-01-01"};t.setState({pacientesBusqueda:n,pacientesCargados:!0,loading:!1})}}).catch(function(e){console.log("Error"),console.log(e.response)}):(alert("Debe ingresar al menos 4 caracteres"),this.setState({loading:!1}))}},{key:"seleccionarPacientes",value:function(e){this.props.history.push({pathname:"/paciente",Usuario:this.state.UsuarioLogueado,PacienteDni:e.hc})}},{key:"handleKeyPress",value:function(e){"Enter"===e.key&&this.validar()}},{key:"componentDidMount",value:function(){ze=sessionStorage.getItem("AppOfertaTurnoToken"),void 0!==this.props.location.Usuario&&this.setState({UsuarioLogueado:this.props.location.Usuario,nombreBuscar:this.props.location.Busqueda}),void 0!==this.props.location.Busqueda&&null!==this.props.location.Busqueda&&""!==this.props.location.Busqueda&&this.BuscarPacientes(this.props.location.Busqueda)}},{key:"render",value:function(){var e=this;return o.a.createElement(v.Grid,{fluid:!0},o.a.createElement(v.Row,null,o.a.createElement(v.Col,{xs:12,md:12},o.a.createElement(j.a,null,o.a.createElement(k.a,{title:"Buscar Paciente por Nombre"}),o.a.createElement(O.a,null,o.a.createElement("form",{onSubmit:this.handleSubmit},o.a.createElement(v.Row,null,o.a.createElement(v.Col,{xs:12,md:12},o.a.createElement(j.a,null,o.a.createElement(O.a,null,o.a.createElement(v.Row,null,o.a.createElement(v.Col,{xs:12,md:9},o.a.createElement(N.a,{id:"nombreBuscar",label:"Ingrese Nombre a Buscar",margin:"normal",autoComplete:"off",value:this.state.nombreBuscar,autoFocus:!0,required:!0,fullWidth:!0,onChange:function(t){return e.valueToState(t.target)},onKeyPress:function(t){return e.handleKeyPress(t)}})),o.a.createElement(v.Col,{xs:12,md:3},o.a.createElement("div",{className:"wrapper"},o.a.createElement(x.a,{variant:"contained",color:"primary",size:"large",disabled:this.state.loading,onClick:function(){e.validar()}},"Buscar"),this.state.loading&&o.a.createElement(q.a,{size:24,className:"buttonProgress"})))),o.a.createElement(v.Row,null,this.state.pacientesCargados?o.a.createElement(v.Col,{xs:12},o.a.createElement("div",{style:{maxWidth:"100%"}},o.a.createElement(Ye.a,{title:"Pacientes",columns:[{title:"H.C.",field:"hc"},{title:"Nombre",field:"nombre"},{title:"Apellido",field:"apellido"},{title:"Mutual",field:"mutual"}],data:this.state.pacientesBusqueda,actions:[{icon:"done",tooltip:"Seleccionar paciente",onClick:function(t,a){return e.seleccionarPacientes(a)}}]}))):o.a.createElement("p",null),o.a.createElement(v.Col,{xs:12,md:3},o.a.createElement(x.a,{variant:"contained",color:"primary",onClick:function(){e.props.history.push({pathname:"/paciente",Usuario:e.state.UsuarioLogueado})}},"Volver")))))))))))))}}]),t}(n.Component),We="",Ie=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).valueToState=function(t){var a=t.id,n=t.value,o=t.checked,r=t.type;e.setState(function(){return Object(b.a)({},a,"checkbox"===r?o:n)})},e.CerrarmsjTurnoConfirmado=function(){e.setState({msjTurnoConfirmado:!1})},e.CerrarModal=function(){alert("Usted no borra "),e.setState({ventanaModal:!1})},e.ConfirmarModal=function(){e.setState({ventanaModal:!1}),e.cancelarTurno()},e.QuitarTurno=function(t){var a=e.state.turnos.filter(function(e){return e.codigo!==t});e.setState({turnos:a})},e.state={paciente:null,UsuarioLogueado:null,turnos:[],turnoBorrar:{fecha:null,hora:null},ventanaModal:!1,msjTurnoConfirmado:!1,msjTurnoConfirmadoMsj:"",loading:!0},e}return Object(d.a)(t,e),Object(l.a)(t,[{key:"traerTurnoPacientes",value:function(e){var t=this;if(null!==this.paciente){var a=[],n={headers:{Authorization:"Bearer ".concat(We)}};Y.a.get("".concat(C,"Turnos/TurnosPaciente/?paciente=").concat(e),n).then(function(e){if(0!==e.data.length){var n;for(n=0;n<e.data.length;n++)a[n]={codigo:null!==e.data[n].codigo?e.data[n].codigo:"",fecha:null!==e.data[n].fecha?T(e.data[n].fecha).format("DD/MM/YYYY"):"01/02/2010",hora:null!==e.data[n].hora?T(e.data[n].hora).format("HH:MM"):"10:00",prestador:0!==e.data[n].equipoCod?e.data[n].equipoNom:e.data[n].prestadorNom,estudio:null!==e.data[n].estudioNom?e.data[n].estudioNom:"",dioTurno:null!==e.data[n].dioTurno?e.data[n].dioTurno:"",aCancelar:null!==e.data[n].aCancelar&&e.data[n].aCancelar,mutual:null!==e.data[n].mutualNom?e.data[n].mutualNom:""};t.setState({turnos:a,loading:!1})}}).catch(function(e){console.log("Error"),console.log(e.response),t.setState({loading:!1})})}this.setState({loading:!1})}},{key:"cancelarTurno",value:function(){var e=Object(E.a)(f.a.mark(function e(){var t,a,n,o;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=0,n="",o={headers:{Authorization:"Bearer ".concat(We)}},a="".concat(C,"Turnos/Cancelar/").concat(this.state.turnoBorrar.codigo),e.next=6,Y.a.put(a,{},o).then(function(e){t=e.status,n=e.data}).catch(function(e){console.log("error"),console.log(e.response)});case 6:200===t?"OK"===n?(this.setState({msjTurnoConfirmadoMsj:"El turno se Cancelo Correctamente",msjTurnoConfirmado:!0}),this.QuitarTurno(this.state.turnoBorrar.codigo)):this.setState({msjTurnoConfirmadoMsj:n,msjTurnoConfirmado:!0}):this.setState({msjTurnoConfirmadoMsj:"Error al cancelar Turno vuelve a intentar en un segundo",msjTurnoConfirmado:!0});case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"imprimir",value:function(e){alert("Usted imprime "+e)}},{key:"borrar",value:function(e){this.setState({turnoBorrar:e,ventanaModal:!0})}},{key:"componentDidMount",value:function(){We=sessionStorage.getItem("AppOfertaTurnoToken"),void 0!==this.props.location.Usuario&&this.setState({UsuarioLogueado:this.props.location.Usuario}),void 0!==this.props.location.Paciente&&(this.setState({paciente:this.props.location.Paciente}),this.traerTurnoPacientes(this.props.location.Paciente.codigo))}},{key:"render",value:function(){var e=this;return o.a.createElement(v.Grid,{fluid:!0},o.a.createElement(v.Row,null,o.a.createElement(v.Col,{xs:12,md:12},o.a.createElement(j.a,null,o.a.createElement(k.a,{title:"Turno del Paciente",subheader:null===this.state.paciente?"Paciente":"".concat(this.state.paciente.apellido,", ").concat(this.state.paciente.nombre)}),o.a.createElement(O.a,null,this.state.loading?o.a.createElement("div",{className:"TurnoPacienteLoading"},o.a.createElement(q.a,{size:80,className:"buttonProgress"})):o.a.createElement(v.Row,null,o.a.createElement(v.Col,{xs:12},o.a.createElement("div",{style:{maxWidth:"100%"}},o.a.createElement(Ye.a,{title:"Turnos",columns:[{title:"Fecha",field:"fecha"},{title:"Hora",field:"hora"},{title:"Mutual",field:"mutual"},{title:"Prestador/Equipo",field:"prestador"},{title:"Estudio",field:"estudio"}],data:this.state.turnos,actions:[function(t){return{icon:"delete",tooltip:"Cancelar Turno",onClick:function(t,a){return e.borrar(a)},disabled:!t.aCancelar}}]}))),o.a.createElement(v.Col,{xs:12,md:3},o.a.createElement(x.a,{variant:"contained",color:"primary",onClick:function(){e.props.history.push({pathname:"/paciente",Usuario:e.state.UsuarioLogueado,PacienteDni:e.state.paciente.documentoNro})}},"Volver"))))))),o.a.createElement(de.a,{open:this.state.ventanaModal,onClose:this.CerrarModal,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},o.a.createElement(ve.a,{id:"alert-dialog-title"},"Desea Cancelar el Turno?"),o.a.createElement(fe.a,null,o.a.createElement(be.a,{id:"alert-dialog-description"},"Para el dia ".concat(this.state.turnoBorrar.fecha," a la hora ").concat(this.state.turnoBorrar.hora," con ").concat(this.state.turnoBorrar.prestador,"."))),o.a.createElement(he.a,null,o.a.createElement(x.a,{onClick:this.CerrarModal,color:"primary"},"No"),o.a.createElement(x.a,{onClick:this.ConfirmarModal,color:"primary",autoFocus:!0},"Si"))),o.a.createElement(de.a,{open:this.state.msjTurnoConfirmado,onClose:this.CerrarmsjTurnoConfirmado,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},o.a.createElement(ve.a,{id:"alert-dialog-title"},o.a.createElement(v.Row,null,o.a.createElement(v.Col,{xs:12,md:12},this.state.msjTurnoConfirmadoMsj,o.a.createElement("p",null))),o.a.createElement(v.Row,{end:"xs"},o.a.createElement(v.Col,{xs:12,md:12},o.a.createElement(x.a,{onClick:this.CerrarmsjTurnoConfirmado,color:"primary"},"OK"))))))}}]),t}(n.Component),Ke=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement(m.a,null,o.a.createElement("div",null,o.a.createElement(h.c,null,o.a.createElement(h.a,{exact:!0,path:"/",component:qe}),o.a.createElement(h.a,{exact:!0,path:"/Paciente",component:_}),o.a.createElement(h.a,{exact:!0,path:"/Turno",component:we}),o.a.createElement(h.a,{exact:!0,path:"/BuscarporNombre",component:Fe}),o.a.createElement(h.a,{exact:!0,path:"/TurnoPaciente",component:Ie}),o.a.createElement(h.a,{component:Ne}))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(Ke,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},80:function(e,t,a){}},[[335,1,2]]]);
//# sourceMappingURL=main.cf3f3345.chunk.js.map